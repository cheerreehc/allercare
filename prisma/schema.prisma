generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id          String     @id
  prefix      String     // คำนำหน้าชื่อ (นาย, นาง, น.ส., เด็กชาย, เด็กหญิง)
  firstName   String
  lastName    String
  gender      String     // เพศ (ชาย, หญิง)
  hn          String?
  pdpaConsent Boolean    @default(false)
  createdAt   DateTime   @default(now())
  logs        DailyLog[]
}

model DailyLog {
id          Int      @id @default(autoincrement())
  userId      String
  logDate     DateTime @db.Date // แนะนำให้ใช้ @db.Date เพื่อให้เก็บแค่วันที่ ไม่ติดเรื่องเวลา
  whealScore  Int
  itchScore   Int
  totalScore  Int
  note        String?  @db.Text
  createdAt   DateTime @default(now())

  user        User     @relation(fields: [userId], references: [id])

  @@unique([userId, logDate])
}